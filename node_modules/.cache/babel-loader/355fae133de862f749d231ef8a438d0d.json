{"ast":null,"code":"var _jsxFileName = \"/Users/rikkicao/my-app/cs5610-webdev-react/src/Components/ModuleListComponent.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport ModuleService from \"../Services/ModuleService\";\n\nconst ModuleListComponent = ({\n  course = {},\n  modules = [],\n  deleteModule,\n  createModule,\n  updateModule,\n  edit,\n  ok\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"h1\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 9\n  }\n}, \"Modules for \", course.title), /*#__PURE__*/React.createElement(\"ul\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 9\n  }\n}, modules.map(module => /*#__PURE__*/React.createElement(\"li\", {\n  key: module._id,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 25\n  }\n}, /*#__PURE__*/React.createElement(\"button\", {\n  onClick: () => deleteModule(module),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 29\n  }\n}, \"Delete\"), !module.editing && /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 33\n  }\n}, /*#__PURE__*/React.createElement(\"button\", {\n  onClick: () => edit(module),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 19\n  }\n}, /*#__PURE__*/React.createElement(\"i\", {\n  className: \"fa fa-pencil\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 21\n  }\n})), /*#__PURE__*/React.createElement(Link, {\n  to: `/edit/${course._id}/modules/${module._id}`,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 19\n  }\n}, module.title)), module.editing && /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 33\n  }\n}, /*#__PURE__*/React.createElement(\"button\", {\n  onClick: () => ok(module),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 17\n  }\n}, \"Ok\"), /*#__PURE__*/React.createElement(\"input\", {\n  onChange: event => updateModule({ ...module,\n    title: event.target.value\n  }),\n  value: module.title,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 17\n  }\n}))))), /*#__PURE__*/React.createElement(\"button\", {\n  onClick: () => createModule(course),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }\n}, \"Create\")); // export default ModuleListComponent\n\n\nconst stateToPropertyMapper = state => ({\n  modules: state.moduleReducer.modules,\n  course: state.courseReducer.course\n});\n\nconst propertyToDispatchMapper = dispatch => ({\n  ok: module => ModuleService.updateModule(module._id, { ...module,\n    editing: false\n  }).then(status => dispatch({\n    type: \"UPDATE_MODULE\",\n    module: { ...module,\n      editing: false\n    }\n  })),\n  edit: module => ModuleService.updateModule(module._id, { ...module,\n    editing: true\n  }).then(status => dispatch({\n    type: \"UPDATE_MODULE\",\n    module: { ...module,\n      editing: true\n    }\n  })),\n  deleteModule: module => ModuleService.deleteModule(module._id).then(status => dispatch({\n    type: \"DELETE_MODULE\",\n    module: module\n  })),\n  createModule: course => ModuleService.createModuleForCourse(course._id, {\n    title: \"New Module\"\n  }).then(actualModule => dispatch({\n    type: \"CREATE_MODULE\",\n    module: actualModule\n  })),\n  updateModule: module => dispatch({\n    type: \"UPDATE_MODULE\",\n    module: module\n  }) // moduleService.updateModule(module._id, module)\n  //   .then(status => dispatch({\n  //     type: \"UPDATE_MODULE\",\n  //     module: module\n  //   }))\n\n});\n\nexport default connect(stateToPropertyMapper, propertyToDispatchMapper)(ModuleListComponent);","map":{"version":3,"sources":["/Users/rikkicao/my-app/cs5610-webdev-react/src/Components/ModuleListComponent.js"],"names":["React","connect","Link","ModuleService","ModuleListComponent","course","modules","deleteModule","createModule","updateModule","edit","ok","title","map","module","_id","editing","event","target","value","stateToPropertyMapper","state","moduleReducer","courseReducer","propertyToDispatchMapper","dispatch","then","status","type","createModuleForCourse","actualModule"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {connect} from \"react-redux\";\n\nimport {Link} from \"react-router-dom\";\nimport ModuleService from \"../Services/ModuleService\";\n\nconst ModuleListComponent = (\n    {\n        course={},\n        modules=[],\n        deleteModule,\n        createModule,\n        updateModule,\n        edit,\n        ok,\n    }) =>\n    <div>\n        <h1>Modules for {course.title}</h1>\n        <ul>\n            {\n                modules.map(module =>\n                        <li key={module._id}>\n                            <button\n                                onClick={() => deleteModule(module)}>\n                                Delete\n                            </button>\n                            {\n                                !module.editing &&\n                                <span>\n                  <button onClick={() => edit(module)}>\n                    <i className=\"fa fa-pencil\"></i>\n                  </button>\n                  <Link to={`/edit/${course._id}/modules/${module._id}`}>\n                    {module.title}\n                  </Link>\n                </span>\n                            }\n                            {\n                                module.editing &&\n                                <span>\n                <button\n                    onClick={() => ok(module)}>\n                  Ok\n                </button>\n                <input\n                    onChange={(event) => updateModule({\n                        ...module,\n                        title: event.target.value\n                    })}\n                    value={module.title}/>\n              </span>\n                            }\n                        </li>\n                )\n            }\n        </ul>\n        <button\n            onClick={() => createModule(course)}>\n            Create\n        </button>\n    </div>\n\n// export default ModuleListComponent\n\nconst stateToPropertyMapper = (state) => ({\n    modules: state.moduleReducer.modules,\n    course: state.courseReducer.course\n})\n\nconst propertyToDispatchMapper = (dispatch) => ({\n    ok: (module) =>\n        ModuleService.updateModule(module._id, {\n            ...module, editing: false\n        }).then(status => dispatch({\n            type: \"UPDATE_MODULE\",\n            module: {...module, editing: false}\n        })),\n    edit: (module) =>\n        ModuleService.updateModule(module._id, {\n            ...module, editing: true\n        }).then(status =>\n            dispatch({\n                type: \"UPDATE_MODULE\",\n                module: {...module, editing: true}\n            })),\n    deleteModule: (module) =>\n        ModuleService.deleteModule(module._id)\n            .then(status => dispatch({\n                type: \"DELETE_MODULE\",\n                module: module\n            })),\n    createModule: (course) =>\n        ModuleService.createModuleForCourse(course._id, {\n            title: \"New Module\"\n        }).then(actualModule => dispatch({\n            type: \"CREATE_MODULE\",\n            module: actualModule\n        })),\n    updateModule: (module) =>\n        dispatch({\n            type: \"UPDATE_MODULE\",\n            module: module\n        })\n    // moduleService.updateModule(module._id, module)\n    //   .then(status => dispatch({\n    //     type: \"UPDATE_MODULE\",\n    //     module: module\n    //   }))\n})\n\nexport default connect\n( stateToPropertyMapper,\n    propertyToDispatchMapper)\n(ModuleListComponent)"]},"metadata":{},"sourceType":"module"}